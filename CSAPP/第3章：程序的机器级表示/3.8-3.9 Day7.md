### 数组分配和访问
c语言的指针运算会根据指针p指向的数据类型的字节大小自动伸缩
> `&`可以用于产生指针
> `*`可以用于间接的引用指针

指针指向的地址之差为`long`类型

```
typedef int row3[3]; //本质上是typedef int[3] row3
row3 a[3]; //定义了一个名为a的3*3的int数组
```

`&D[i][j]=X0+L(C•i+j)`

### 变长数组
本处指代的不是可以扩容的数组，而是表达式未定的数组
允许使用`int A [exprl] [expr2]`，在遇到时再对表达式计算
>这个地址的计算类似定长数组的地址计算，不同点在
>	1.由于增加了参数n，寄存器的使用变化了； 
>	2.用了**乘法**指令来计算第i行，而不是用leaq指令来计算 。


### 异质的数据结构

#### 结构体
结构的地址加上偏移量

#### 联合体
1. 允许以多种类型来引用一个对象
2. 用不同的字段来引用相同的内存块

如果一个数据结构中的个不同字段的使用是互斥的，那么将这两个字段声明为联合的部分 ，而不是结构的一 部分，会减小分配空间的总量，例如二叉树
```
typedef enum { N_LEAF, N_INTERNAL} nodetype_t; 
struct node_t { 
	nodetype_t type; 
	union { 
		struct { 
			struct node_t *left; 
			struct node_t *right; 
		} internal; 
		double data[2]; 
	} info; 
};
```


#### 数据对齐

>**对齐原则:任何K字节的基本对象的地址必须是K的倍数**

`.align n`会使得之后的数据的起始地址是n的倍数

不对齐大部分情况下没事，部分Intel和AMD的处理器在使用SSE指令（单寄存器多数据操作，例如一个寄存器同时加4个int）时要求按照16字节对齐